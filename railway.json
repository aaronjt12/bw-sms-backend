{
    "$schema": "https://railway.app/railway.schema.json",
    "build": {
      "rootDir": "/twilio-sms-server",
      "builder": "NIXPACKS",
      "buildCommand": "echo 'No build step required'",
      "nixpacksPlan": {
        "providers": ["node"],
        "phases": {
          "setup": {
            "nixPkgs": ["nodejs_18"]
          },
          "install": {
            "cmds": ["npm install --omit=dev"],
            "dependsOn": ["setup"]
          }
        }
      }
    },
    "deploy": {
      "startCommand": "node server.js",
      "restartPolicyType": "ON_FAILURE",
      "healthcheckPath": "/",
      "healthcheckTimeout": 200
    }
  }